<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="container"></div>
    <div id="scoresheet"></div>
    <div id="resultsheet"></div>
    <script>
        
        function getComputerchoice (){
            let randumNum = Math.random();
            if (randumNum <= 1/3) {
                return "rock";
            }

            else if (randumNum <=2/3) {
                return "paper";
            }
            else {
                return "scissors";
            }
        }
        function getHumanChoice () {
            let humanchoice = prompt("Please enter rock, paper or scissor");

            if (humanchoice == "rock") {
                return "rock";
            }

            else if (humanchoice == "paper") {
                return "paper";
            }

            else if (humanchoice == "scissors") {
                return "scissors";
            }
        }
        
        function playRound(humanChoice, computerChoice){
                // console.log("Human has chosen "+humanChoice+ " and computer has chosen "+computerChoice);
                scorediv.textContent = "Human has chosen "+humanChoice+" and computer has chosen "+computerChoice;
                if (((humanChoice == "rock") && (computerChoice == "paper"))||((humanChoice == "scissors") && (computerChoice=="rock"))){
                    // console.log("You loose human Haha!!!");
                    resultdiv.textContent = "You loose human Haha!!!";
                    return "computer";
                }
                else if ((humanChoice == "rock" && computerChoice == "rock") || (humanChoice == "paper" && computerChoice == "paper") || (humanChoice == "scissors" && computerChoice == "scissors")){
                    // console.log("It is a tie. We shall meet again human!")
                    resultdiv.textContent = "It is a tie. We shall meet again human!";
                    return "tie";
                }
                else {
                    // console.log("You have won human! For now. muhaha");
                    resultdiv.textContent = "You have won human! For now. muhaha";
                    return "human";
                }

            }
        let computerScore = 0;
        let humanScore = 0;
        let roundsPlayed = 0;

        function playGame(humanChoice) {
            if (roundsPlayed >=5 ) return;

            const roundresult = playRound(humanChoice,getComputerchoice());
            roundsPlayed++;

            if (roundresult == "human"){
                    humanScore++;
                    console.log("Human score is " + humanScore);
                }
                else if (roundresult == "computer"){
                    computerScore++;
                    console.log("Computer score is "+ computerScore);
                }
            
            if (roundsPlayed==5) {
                
                if (humanScore > computerScore) {
                    console.log("Final score: Human wins!");
                }

                else if(computerScore > humanScore) {
                    console.log("Final score: Computer wins!");
                }
                else {
                    console.log("Final score: It's a draw!");
                }
            }
            // for (let i=0; i<5; i++){
            //     const roundresult = playRound(humanChoice, computerChoice);
            //     if (roundresult == "human"){
            //         humanScore++;
            //         console.log("Human score is " + humanScore);
            //     }
            //     else if (roundresult == "computer"){
            //         computerScore++;
            //         console.log("Computer score is "+ computerScore);
            //     }
            //     else{
            //         continue;
            //     }
            // }

            // if (humanScore < computerScore) {
            //     console.log("The winner is "+ "the computer");
            // }
            // else if (humanScore > computerScore) {
            //     console.log("The winner is "+ "the human!");
            // }
            // else {
            //     console.log("It's a draw");
            // }
        }

        
        // console.log( "the computer has chosen " + getComputerchoice());
        // console.log( "human has chosen " + getHumanChoice());
        // const humanSelection = getHumanChoice();
        // const computerSelection = getComputerchoice();

        
        let div_1 = document.querySelector("#container");
        let scorediv = document.querySelector("#scoresheet");
        let resultdiv = document.querySelector("#resultsheet");
        let rockbutton = document.createElement("button");
        rockbutton.textContent = "Rock"
        let paperbutton = document.createElement("button");
        paperbutton.textContent = "Paper";
        let scissorbutton = document.createElement("button");
        scissorbutton.textContent = "Sissors";
        div_1.appendChild(rockbutton);
        div_1.appendChild(paperbutton);
        div_1.appendChild(scissorbutton);

        function handleRockclick(){
            playGame("rock");
        }

        function handlepaperclick() {
            playGame("paper");
        }

        function handlescisssorsclick () {
            playGame("scissors");
        }

        rockbutton.addEventListener("click", handleRockclick);
        scissorbutton.addEventListener("click", handlescisssorsclick);
        paperbutton.addEventListener("click",handlepaperclick);
        // playRound(getHumanChoice(),getComputerchoice());
    </script>
</body>
</html>